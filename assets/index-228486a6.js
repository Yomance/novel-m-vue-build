import{d as v,j as g,r as _,o as x,c as y,e as m,u as S,b as e,t as k,p as b,q as w,_ as C}from"./index-4fe7824b.js";import{u as N,s as V}from"./index-2f1714f2.js";import{r as B,b as I}from"./user-51934867.js";import{s as D}from"./function-call-b3a18138.js";import{s as u}from"./function-call-216768fc.js";import{N as F}from"./index-6afe34d9.js";import{F as R}from"./index-4984d8d9.js";import"./file-2a06de25.js";import"./index-74f31b2d.js";import"./index-a9a9e208.js";import"./use-id-b193c290.js";const o=a=>(b("data-v-fefe6d34"),a=a(),w(),a),T={class:"user-profile"},U={class:"text"},$=o(()=>e("p",null,"修改说明",-1)),j=o(()=>e("p",null,"2.昵称可以使用：中文、大写英文、小写英文、数字、英文下划线及其组合",-1)),q=o(()=>e("p",null,"3.昵称不可使用：空格、特殊字符、违规关键词",-1)),E=o(()=>e("p",null,"4.昵称字数限制：2~12",-1)),L=o(()=>e("p",null,"5.昵称30天内仅能修改一次",-1)),z=o(()=>e("p",null,"6.修改后发表的书评、广播等会使用新的昵称，修改前发布的内容中昵称不会改变",-1)),A=o(()=>e("p",null,"7.昵称的内容需遵守社区管理规则，如有违反，将按通则处理且不退还修改费用",-1)),G=v({__name:"index",setup(a){const c=g(),n=N(),r=_(100),l=_(n.username);let i="昵称只能免费修改一次，确认修改";B().then(s=>{r.value=s.price,s.first?i="昵称只能免费修改一次，确认修改":i=`昵称需要花费${s.price}个硬币，确认修改`}).catch(({message:s})=>{D({type:"danger",message:s})});function d(){V({message:i}).then(s=>{I(l.value).then(t=>{n.username=t,n.purse.coin-=r.value,u({type:"success",message:"修改成功！",duration:800,onClose(){setTimeout(c.back,10)}})}).catch(({message:t})=>u({type:"fail",message:t}))}).catch(s=>{})}return(s,t)=>{const f=F,h=R;return x(),y("div",T,[m(f,{title:"修改昵称",placeholder:"","left-arrow":"",onClickLeft:t[0]||(t[0]=p=>S(c).back()),"right-text":"保存",onClickRight:d}),m(h,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=p=>l.value=p),maxlength:"12"},null,8,["modelValue"]),e("div",U,[$,e("p",null,"1.昵称每次修改需支付"+k(r.value)+"硬币（首次修改免费，之后优先使用改名卡道具，改名卡敬请期待）",1),j,q,E,L,z,A])])}}});const ee=C(G,[["__scopeId","data-v-fefe6d34"]]);export{ee as default};
