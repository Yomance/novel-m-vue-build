import{B}from"./index-28b7cf06.js";import{d as L,j as C,A as w,r as t,o as l,c as p,e as i,u as _,w as m,F as $,f as q,g as N,_ as R}from"./index-4fe7824b.js";import{h as S}from"./index-2f1714f2.js";import{N as z}from"./index-6afe34d9.js";import{S as F}from"./index-29569b89.js";import{L as j}from"./index-081089d8.js";import"./file-2a06de25.js";import"./index-74f31b2d.js";const A={class:"classify-result-view"},D=L({__name:"index",setup(E){const u=C(),s=w();t(0);const c=t([]),n=t(!1),r=t(!1),f=t(1),v=s.query.type,x=s.query.name,g=s.query.id,h=t(x),d=()=>{n.value=!0,S.get(`/classify/books/${v}/${g}`,{params:{current:f.value,size:10}}).then(({data:a})=>{if(a==null){r.value=!0;return}f.value++,c.value.push(...a),a.length<10&&(r.value=!0)}).finally(()=>{n.value=!1})};return d(),(a,e)=>{const k=z,y=F,b=j;return l(),p("div",A,[i(k,{border:!1,title:h.value,fixed:"","left-arrow":"",placeholder:"",onClickLeft:e[0]||(e[0]=o=>_(u).back()),onClickRight:e[1]||(e[1]=o=>_(u).push({name:"Search"}))},null,8,["title"]),i(b,{loading:n.value,"onUpdate:loading":e[2]||(e[2]=o=>n.value=o),finished:r.value,class:"content","finished-text":"没有更多了",onLoad:d},{default:m(()=>[i(y,{direction:"vertical",fill:"",size:"16px"},{default:m(()=>[(l(!0),p($,null,q(c.value,o=>(l(),N(B,{book:o},null,8,["book"]))),256))]),_:1})]),_:1},8,["loading","finished"])])}}});const O=R(D,[["__scopeId","data-v-c75a2aef"]]);export{O as default};
