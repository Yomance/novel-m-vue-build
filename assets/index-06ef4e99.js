import{c as U,d as A,v as L,n as D,l as B,w as I,f as N,L as T,t as j,I as E,e as S,h as O,q as Y,u as K}from"./file-2a06de25.js";import{U as H}from"./index-361cbc71.js";import{d as x,i as J,e as l,r as f,x as h,y as M,o as C,g as w,_ as $,j as Q,c as W,u as X,w as _,l as y,F as Z}from"./index-4fe7824b.js";import{u as ee,a as ae}from"./to-author-3ee3e77b.js";import{b as le}from"./page-64bb3939.js";import{s as P}from"./function-call-b3a18138.js";import{N as oe}from"./index-6afe34d9.js";import{B as te}from"./index-74f31b2d.js";import{C as ne}from"./index-957eda2f.js";import{F as de}from"./index-4984d8d9.js";import"./index-107c1d2e.js";import"./index-2f1714f2.js";import"./index-a9a9e208.js";import"./use-id-b193c290.js";const[z,ue]=U("radio-group"),re={shape:String,disabled:Boolean,iconSize:D,direction:String,modelValue:B,checkedColor:String},R=Symbol(z);var ie=x({name:z,props:re,emits:["change","update:modelValue"],setup(e,{emit:c,slots:o}){const{linkChildren:d}=A(R),u=a=>c("update:modelValue",a);return J(()=>e.modelValue,a=>c("change",a)),d({props:e,updateValue:u}),L(()=>e.modelValue),()=>{var a;return l("div",{class:ue([e.direction]),role:"radiogroup"},[(a=o.default)==null?void 0:a.call(o)])}}});const se=I(ie),G={name:B,disabled:Boolean,iconSize:D,modelValue:B,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var ce=x({props:N({},G,{bem:T(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:j}),emits:["click","toggle"],setup(e,{emit:c,slots:o}){const d=f(),u=n=>{if(e.parent&&e.bindGroup)return e.parent.props[n]},a=h(()=>{if(e.parent&&e.bindGroup){const n=u("disabled")||e.disabled;if(e.role==="checkbox"){const m=u("modelValue").length,i=u("max"),s=i&&m>=+i;return n||s&&!e.checked}return n}return e.disabled}),g=h(()=>u("direction")),p=h(()=>{const n=e.checkedColor||u("checkedColor");if(n&&e.checked&&!a.value)return{borderColor:n,backgroundColor:n}}),b=h(()=>e.shape||u("shape")||"round"),V=n=>{const{target:m}=n,i=d.value,s=i===m||(i==null?void 0:i.contains(m));!a.value&&(s||!e.labelDisabled)&&c("toggle"),c("click",n)},t=()=>{var n,m;const{bem:i,checked:s}=e,k=e.iconSize||u("iconSize");return l("div",{ref:d,class:i("icon",[b.value,{disabled:a.value,checked:s}]),style:b.value!=="dot"?{fontSize:S(k)}:{width:S(k),height:S(k),borderColor:(n=p.value)==null?void 0:n.borderColor}},[o.icon?o.icon({checked:s,disabled:a.value}):b.value!=="dot"?l(E,{name:"success",style:p.value},null):l("div",{class:i("icon--dot__icon"),style:{backgroundColor:(m=p.value)==null?void 0:m.backgroundColor}},null)])},r=()=>{if(o.default)return l("span",{class:e.bem("label",[e.labelPosition,{disabled:a.value}])},[o.default()])};return()=>{const n=e.labelPosition==="left"?[r(),t()]:[t(),r()];return l("div",{role:e.role,class:e.bem([{disabled:a.value,"label-disabled":e.labelDisabled},g.value]),tabindex:a.value?void 0:0,"aria-checked":e.checked,onClick:V},[n])}}});const me=N({},G,{shape:String}),[ve,pe]=U("radio");var be=x({name:ve,props:me,emits:["update:modelValue"],setup(e,{emit:c,slots:o}){const{parent:d}=O(R),u=()=>(d?d.props.modelValue:e.modelValue)===e.name,a=()=>{d?d.updateValue(e.name):c("update:modelValue",e.name)};return()=>l(ce,M({bem:pe,role:"radio",parent:d,checked:u(),onToggle:a},e),Y(o,["default","icon"]))}});const _e=I(be),fe=x({__name:"upload",props:{isFront:{type:Boolean,default:!1}},emits:["select"],setup(e,{emit:c}){const o=e,d=f(),u=h(()=>K(`/image/id-card-${o.isFront?0:1}.png`)),a=h(()=>`上传身份证${o.isFront?"正":"反"}面`),g=p=>c("select",p.file);return(p,b)=>{const V=H;return C(),w(V,{"max-count":"1","preview-image":"","upload-icon":u.value,modelValue:d.value,"onUpdate:modelValue":b[0]||(b[0]=t=>d.value=t),"after-read":g,"upload-text":a.value},null,8,["upload-icon","modelValue","upload-text"])}}});const F=$(fe,[["__scopeId","data-v-ea11cbea"]]),ge=x({__name:"index",setup(e){let c=Q();const o=f(!1),d=f(),u=f(),a=f();f();const g=t=>t&&(d.value=t),p=t=>t&&(u.value=t),b=()=>{o.value=!0,ee(d.value,u.value).then(t=>a.value=t).catch(({message:t})=>P(t)).finally(()=>o.value=!1)},V=()=>{o.value=!0,ae(a.value).then(t=>{P({message:"成功",type:"success",duration:1e3}),setTimeout(()=>le(!0),1e3)}).catch(({message:t})=>P({message:t})).finally(()=>o.value=!1)};return(t,r)=>{const n=oe,m=te,i=ne,s=de,k=_e,q=se;return C(),W(Z,null,[l(n,{title:"表单填写","left-arrow":"",fixed:"",onClickLeft:r[0]||(r[0]=v=>X(c).back()),placeholder:""}),a.value?(C(),w(i,{key:1,inset:"",class:"spin-item"},{default:_(()=>[l(s,{modelValue:a.value.name,"onUpdate:modelValue":r[1]||(r[1]=v=>a.value.name=v),name:"name",label:"姓名",placeholder:"姓名",rules:[{required:!0,message:"请填写姓名"}]},null,8,["modelValue"]),l(s,{label:"身份证号码",placeholder:"身份证号码",modelValue:a.value.idNumber,"onUpdate:modelValue":r[2]||(r[2]=v=>a.value.idNumber=v)},null,8,["modelValue"]),l(s,{label:"性别"},{input:_(()=>[l(q,{modelValue:a.value.gender,"onUpdate:modelValue":r[3]||(r[3]=v=>a.value.gender=v),direction:"horizontal"},{default:_(()=>[l(k,{name:"男"},{default:_(()=>[y("男")]),_:1}),l(k,{name:"女"},{default:_(()=>[y("女")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(s,{modelValue:a.value.startDate,"onUpdate:modelValue":r[4]||(r[4]=v=>a.value.startDate=v),label:"开始日期",placeholder:"开始日期"},null,8,["modelValue"]),l(s,{modelValue:a.value.endDate,"onUpdate:modelValue":r[5]||(r[5]=v=>a.value.endDate=v),label:"失效日期",placeholder:"失效日期"},null,8,["modelValue"]),l(m,{style:{"margin-top":"16px"},block:"",type:"primary",onClick:V,loading:o.value},{default:_(()=>[y("提交")]),_:1},8,["loading"])]),_:1})):(C(),w(i,{key:0,inset:"",style:{"text-align":"center"},class:"spin-item"},{default:_(()=>[l(F,{"is-front":!0,onSelect:g,style:{"margin-bottom":"16px"}}),l(F,{"is-front":!1,onSelect:p,style:{"margin-bottom":"16px"}}),l(m,{block:"",type:"primary",loading:o.value,onClick:b,disabled:!d.value||!u.value},{default:_(()=>[y("下一步 ")]),_:1},8,["loading","disabled"])]),_:1}))],64)}}});const Ne=$(ge,[["__scopeId","data-v-af5d76fe"]]);export{Ne as default};
