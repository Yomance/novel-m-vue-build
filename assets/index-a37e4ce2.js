import{h as B,u as L}from"./index-9167eec7.js";import{d as w,j as z,a as G,o as m,c as N,e,w as a,b as t,u as s,t as u,g as v,m as U,l as C,p as V,q as H,_ as T}from"./index-b21a5062.js";import{m as d,G as j,a as q}from"./router-88c881d4.js";import{S as A}from"./StatusBar-8e440bdb.js";import{u as D,I as E}from"./file-5968fc18.js";import{C as P}from"./index-7cf97704.js";import{C as R}from"./index-9b70e7c1.js";import{B as F}from"./index-1ab0a0de.js";import{s as f}from"./function-call-eb60fd77.js";import{S as J}from"./index-0f7f6841.js";const K=()=>B.post("/activity/signIn"),g=c=>(V("data-v-144650db"),c=c(),H(),c),M={class:"mine-view"},O=["src"],Q={class:"name van-ellipsis"},W={class:"money"},X={class:"list"},Y={class:"item"},Z={class:"size"},oo=g(()=>t("div",{class:"desc"},"硬币",-1)),so={class:"item"},to={class:"size"},eo=g(()=>t("div",{class:"desc"},"推荐卡",-1)),no=g(()=>t("div",{class:"btn"},"充值",-1)),io={class:"vip"},ao=["src"],co=w({__name:"index",setup(c){const n=L(),r=z();n.loadUserInfo();const x=()=>{K().then(l=>{f("签到成功！"),n.purse.coin+=l}).catch(({message:l})=>{f(l||"系统错误")})},h=()=>{n.isLogin?r.push({name:"UserProfile"}):r.push({name:"Login"})};return(l,o)=>{const y=E,I=G("router-link"),p=j,S=q,_=P,b=R,k=F,$=J;return m(),N("div",M,[e(A),e($,{direction:"vertical",fill:"",size:"16px"},{default:a(()=>[t("div",{class:"user-info",onClick:h},[t("img",{src:s(n).avatar,alt:"头像",class:"avatar"},null,8,O),t("div",Q,u(s(n).username),1),e(y,{class:"left",name:"arrow",size:"26px"})]),t("div",W,[t("div",X,[t("div",Y,[t("div",Z,u(s(n).coinStr),1),oo]),t("div",so,[t("div",to,u(s(n).isLogin?s(n).purse.recommend:"-"),1),eo])]),s(n).isLogin?(m(),v(I,{key:0,to:"/pay"},{default:a(()=>[no]),_:1})):U("",!0)]),t("div",io,[t("img",{alt:"",src:s(D)("/image/free_vip_img.9.png")},null,8,ao)]),e(S,{border:!1,class:"card","column-num":"3"},{default:a(()=>[e(p,{icon:"location",text:"签到",onClick:x}),e(p,{icon:"column",text:"阅历",onClick:o[0]||(o[0]=i=>s(d)({name:"History"}))}),e(p,{icon:"volume",text:"消息",onClick:o[1]||(o[1]=i=>s(f)("暂无消息"))})]),_:1}),e(b,{inset:""},{default:a(()=>[e(_,{icon:"orders-o",title:"最近阅读",onClick:o[2]||(o[2]=i=>s(d)({name:"History"}))}),e(_,{icon:"comment-o",title:"评论",onClick:o[3]||(o[3]=i=>s(d)("/selfComment"))}),e(_,{icon:"point-gift-o",title:"成为作者",onClick:o[4]||(o[4]=i=>s(d)({name:"ToAuthor"}))}),e(_,{icon:"setting-o",title:"修改服务器地址",onClick:o[5]||(o[5]=i=>s(r).push("/setServerHost"))})]),_:1}),s(n).isLogin?(m(),v(k,{key:0,block:"",onClick:o[6]||(o[6]=i=>s(n).logout())},{default:a(()=>[C("退出登录")]),_:1})):(m(),v(k,{key:1,block:"",type:"success",onClick:o[7]||(o[7]=i=>s(r).push({name:"Login"}))},{default:a(()=>[C("去登录")]),_:1}))]),_:1})])}}});const Co=T(co,[["__scopeId","data-v-144650db"]]);export{Co as default};
